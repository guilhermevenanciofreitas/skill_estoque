(this["webpackJsonpreact-native"]=this["webpackJsonpreact-native"]||[]).push([[0],{105:function(e,t,o){"use strict";o.r(t);var r=o(114),s=o(0),n=o(113),a=o(78),i=o(110),l=o(111),c=o(7),d=o(109),u=o(8),b=o(25),j=o(80),h=o(86),f=o(112);class x{constructor(){this.Post=async(e,t,o)=>{let r={},s=JSON.parse(localStorage.getItem("Authorization"));try{s&&(r={headers:{Authorization:`${null===s||void 0===s?void 0:s.token}`,...o}});var n=await f.a.post("http://vps53636.publiccloud.com.br:1000/api/"+e,t||{},r);return s&&(s.lastAcess=n.headers["last-acess"],s.expireIn=parseInt(n.headers["expire-in"]),localStorage.setItem("Authorization",JSON.stringify(s))),n}catch(c){var a,i,l;if("ERR_NETWORK"==c.code){throw new Error("[300] - Servidor fora do ar!")}if(301==(null===c||void 0===c||null===(a=c.response)||void 0===a?void 0:a.status)){throw new Error("[301] - Servidor em manuten\xe7\xe3o, aguarde um instante!")}if(400==(null===c||void 0===c||null===(i=c.response)||void 0===i?void 0:i.status)){const e=c.response.data.message;localStorage.removeItem("Authorization");window.location.hash.slice(1);throw window.location.href="/sign-in",new Error(e)}throw new Error(JSON.stringify(null===c||void 0===c||null===(l=c.response)||void 0===l?void 0:l.data))}}}}var m=o(3);const O=()=>{const[e,t]=Object(s.useState)(null),[o,r]=Object(s.useState)([]),[n,i]=Object(s.useState)(!1),l=Object(s.useRef)(null),u=async()=>{i(!0);try{var e,t;const o=await(new x).Post("cadastros/produto/lista");r((null===(e=o.data)||void 0===e||null===(t=e.response)||void 0===t?void 0:t.rows)||[])}catch(o){alert("Erro ao carregar os dados: "+o.message)}finally{i(!1)}};Object(s.useEffect)((()=>{u()}),[]);return Object(m.jsxs)(c.a,{style:g.container,children:[Object(m.jsx)(d.a,{style:g.refreshButton,onPress:u,disabled:n,children:Object(m.jsx)(a.a,{style:g.refreshButtonText,children:n?"Atualizando...":"Recarregar"})}),Object(m.jsx)(b.a,{ref:l,style:{flex:1},refreshControl:Object(m.jsx)(j.a,{refreshing:n,onRefresh:u}),onScroll:e=>{e.nativeEvent.contentOffset.y<=0&&!n&&u()},scrollEventThrottle:16,children:Object(m.jsx)(h.a,{data:o,renderItem:o=>{let{item:r}=o;const s=e===r.codprod;return Object(m.jsxs)(c.a,{style:g.itemContainer,children:[Object(m.jsx)(d.a,{onPress:()=>t(s?null:r.codprod),children:Object(m.jsx)(c.a,{style:g.itemHeader,children:Object(m.jsx)(c.a,{style:g.productInfo,children:Object(m.jsxs)(a.a,{children:[r.codprod," - ",r.descricao]})})})}),s&&Object(m.jsx)(c.a,{style:g.sublist,children:r.estoques.map(((e,t)=>{var o;return Object(m.jsx)(c.a,{style:[g.sublistItem,t!==r.estoques.length-1&&g.sublistItemWithBorder],children:Object(m.jsxs)(c.a,{style:g.sublistRow,children:[Object(m.jsx)(c.a,{style:g.sublistInfo,children:Object(m.jsx)(a.a,{children:null===(o=e.local)||void 0===o?void 0:o.descricao})}),Object(m.jsx)(a.a,{children:e.saldo.toFixed(2).replace(".",",")})]})},t)}))})]})},keyExtractor:e=>{var t;return null===(t=e.id)||void 0===t?void 0:t.toString()}})})]})},g=u.a.create({container:{flex:1,padding:10},refreshButton:{backgroundColor:"#6200EE",padding:10,borderRadius:5,alignItems:"center",marginBottom:10},refreshButtonText:{color:"#FFF",fontWeight:"bold"},itemContainer:{marginBottom:10,borderWidth:1,borderColor:"#ccc",borderRadius:8,padding:10},itemHeader:{flexDirection:"row",justifyContent:"space-between",marginBottom:10,alignItems:"center"},productInfo:{flexDirection:"column"},saldo:{fontWeight:"bold"},sublist:{marginTop:10,paddingLeft:10},sublistItem:{paddingVertical:10},sublistItemWithBorder:{borderBottomWidth:1,borderBottomColor:"#ccc"},sublistRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},sublistInfo:{flexDirection:"column"}}),p=()=>{const[e,t]=Object(s.useState)(null),[o,r]=Object(s.useState)([]),[n,i]=Object(s.useState)(!1),l=Object(s.useRef)(null),u=async()=>{i(!0);try{var e,t;const o=await(new x).Post("relatorios/produto/lista");r((null===(e=o.data)||void 0===e||null===(t=e.response)||void 0===t?void 0:t.rows)||[])}catch(o){alert("Erro ao carregar os dados: "+o.message)}finally{i(!1)}};Object(s.useEffect)((()=>{u()}),[]);return Object(m.jsxs)(c.a,{style:y.container,children:[Object(m.jsx)(d.a,{style:y.refreshButton,onPress:u,disabled:n,children:Object(m.jsx)(a.a,{style:y.refreshButtonText,children:n?"Atualizando...":"Recarregar"})}),Object(m.jsx)(b.a,{ref:l,style:{flex:1},refreshControl:Object(m.jsx)(j.a,{refreshing:n,onRefresh:u}),onScroll:e=>{e.nativeEvent.contentOffset.y<=0&&!n&&u()},scrollEventThrottle:16,children:Object(m.jsx)(h.a,{data:o,renderItem:o=>{let{item:r}=o;const s=e===r.codprod;return Object(m.jsxs)(c.a,{style:y.itemContainer,children:[Object(m.jsx)(d.a,{onPress:()=>t(s?null:r.codprod),children:Object(m.jsxs)(c.a,{style:y.itemHeader,children:[Object(m.jsx)(c.a,{style:y.productInfo,children:Object(m.jsxs)(a.a,{children:[r.codprod," - ",r.descricao]})}),Object(m.jsxs)(a.a,{style:y.saldo,children:["Saldo: ",r.saldo_total.toFixed(2).replace(".",",")]})]})}),s&&Object(m.jsx)(c.a,{style:y.sublist,children:r.estoques.map(((e,t)=>{var o;return Object(m.jsx)(c.a,{style:[y.sublistItem,t!==r.estoques.length-1&&y.sublistItemWithBorder],children:Object(m.jsxs)(c.a,{style:y.sublistRow,children:[Object(m.jsx)(c.a,{style:y.sublistInfo,children:Object(m.jsx)(a.a,{children:null===(o=e.local)||void 0===o?void 0:o.descricao})}),Object(m.jsx)(a.a,{children:e.saldo.toFixed(2).replace(".",",")})]})},t)}))})]})},keyExtractor:e=>{var t;return null===(t=e.id)||void 0===t?void 0:t.toString()}})})]})},y=u.a.create({container:{flex:1,padding:10},refreshButton:{backgroundColor:"#6200EE",padding:10,borderRadius:5,alignItems:"center",marginBottom:10},refreshButtonText:{color:"#FFF",fontWeight:"bold"},itemContainer:{marginBottom:10,borderWidth:1,borderColor:"#ccc",borderRadius:8,padding:10},itemHeader:{flexDirection:"row",justifyContent:"space-between",marginBottom:10,alignItems:"center"},productInfo:{flexDirection:"column"},saldo:{fontWeight:"bold"},sublist:{marginTop:10,paddingLeft:10},sublistItem:{paddingVertical:10},sublistItemWithBorder:{borderBottomWidth:1,borderBottomColor:"#ccc"},sublistRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},sublistInfo:{flexDirection:"column"}}),v=()=>{const[e,t]=Object(s.useState)(null),[o,r]=Object(s.useState)([]),[n,i]=Object(s.useState)(!1),l=Object(s.useRef)(null),u=async()=>{i(!0);try{var e,t;const o=await(new x).Post("relatorios/local/lista");r((null===(e=o.data)||void 0===e||null===(t=e.response)||void 0===t?void 0:t.rows)||[])}catch(o){alert("Erro ao carregar os dados: "+o.message)}finally{i(!1)}};Object(s.useEffect)((()=>{u()}),[]);return Object(m.jsxs)(c.a,{style:w.container,children:[Object(m.jsx)(d.a,{style:w.refreshButton,onPress:u,disabled:n,children:Object(m.jsx)(a.a,{style:w.refreshButtonText,children:n?"Atualizando...":"Recarregar"})}),Object(m.jsx)(b.a,{ref:l,style:{flex:1},refreshControl:Object(m.jsx)(j.a,{refreshing:n,onRefresh:u}),onScroll:e=>{e.nativeEvent.contentOffset.y<=0&&!n&&u()},scrollEventThrottle:16,children:Object(m.jsx)(h.a,{data:o,renderItem:o=>{let{item:r}=o;const s=e===r.codloc;return Object(m.jsxs)(c.a,{style:w.itemContainer,children:[Object(m.jsx)(d.a,{onPress:()=>t(s?null:r.codloc),children:Object(m.jsx)(c.a,{style:w.itemHeader,children:Object(m.jsx)(c.a,{style:w.productInfo,children:Object(m.jsxs)(a.a,{children:[r.codloc," - ",r.descricao]})})})}),s&&Object(m.jsx)(c.a,{style:w.sublist,children:r.estoques.map(((e,t)=>{var o,s;return Object(m.jsx)(c.a,{style:[w.sublistItem,t!==r.estoques.length-1&&w.sublistItemWithBorder],children:Object(m.jsxs)(c.a,{style:w.sublistRow,children:[Object(m.jsx)(c.a,{style:w.sublistInfo,children:Object(m.jsxs)(a.a,{children:[null===(o=e.produto)||void 0===o?void 0:o.codprod," - ",null===(s=e.produto)||void 0===s?void 0:s.descricao]})}),Object(m.jsx)(a.a,{children:e.saldo.toFixed(2).replace(".",",")})]})},t)}))})]})},keyExtractor:e=>{var t;return null===(t=e.id)||void 0===t?void 0:t.toString()}})})]})},w=u.a.create({container:{flex:1,padding:10},refreshButton:{backgroundColor:"#6200EE",padding:10,borderRadius:5,alignItems:"center",marginBottom:10},refreshButtonText:{color:"#FFF",fontWeight:"bold"},itemContainer:{marginBottom:10,borderWidth:1,borderColor:"#ccc",borderRadius:8,padding:10},itemHeader:{flexDirection:"row",justifyContent:"space-between",marginBottom:10,alignItems:"center"},productInfo:{flexDirection:"column"},saldo:{fontWeight:"bold"},sublist:{marginTop:10,paddingLeft:10},sublistItem:{paddingVertical:10},sublistItemWithBorder:{borderBottomWidth:1,borderBottomColor:"#ccc"},sublistRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},sublistInfo:{flexDirection:"column"}}),I=u.a.create({container:{flex:1,flexDirection:"row"},overlay:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.2)",zIndex:0},overlayVisible:{zIndex:1},drawer:{position:"absolute",left:0,top:0,bottom:0,width:280,backgroundColor:"#ffffff",paddingTop:50,zIndex:2,borderRightWidth:1,borderRightColor:"#ddd",shadowColor:"#000",shadowOpacity:.1,shadowRadius:8,shadowOffset:{width:2,height:2}},drawerContent:{paddingHorizontal:20},menuItem:{paddingVertical:15,paddingHorizontal:10,borderBottomWidth:1,borderBottomColor:"#ddd"},menuText:{fontSize:20,fontWeight:"bold",color:"#333"},subMenu:{backgroundColor:"#f5f5f5",paddingVertical:10,borderRadius:8,marginTop:5},subMenuItem:{paddingVertical:15,paddingHorizontal:15,borderBottomWidth:1,borderBottomColor:"#ddd"},subMenuText:{fontSize:18,color:"#555"},mainContent:{flex:1,backgroundColor:"#f9f9f9"},header:{flexDirection:"row",alignItems:"center",backgroundColor:"#ffffff",paddingVertical:12,paddingHorizontal:15,borderBottomWidth:1,borderBottomColor:"#e0e0e0"},menuButton:{fontSize:32,color:"#333",marginRight:15},title:{fontSize:22,color:"#333",fontWeight:"bold"},body:{flex:1,padding:20},bodyText:{fontSize:18,color:"#333"}});var B=()=>{const[e,t]=Object(s.useState)(!1),[o]=Object(s.useState)(new n.a.Value(-300)),[r,u]=Object(s.useState)("Produtos"),[b,j]=Object(s.useState)(!1),[h,f]=Object(s.useState)(!1),x=()=>{n.a.timing(o,{toValue:e?-300:0,duration:250,useNativeDriver:!0}).start(),t(!e)},g=e=>{u(e),x()};return Object(m.jsxs)(i.a,{style:I.container,children:[Object(m.jsx)(l.a,{onPress:()=>{e&&x()},children:Object(m.jsx)(c.a,{style:[I.overlay,e&&I.overlayVisible]})}),Object(m.jsx)(n.a.View,{style:[I.drawer,{transform:[{translateX:o}]}],children:Object(m.jsxs)(c.a,{style:I.drawerContent,children:[Object(m.jsx)(d.a,{onPress:()=>{j(!b)},style:I.menuItem,children:Object(m.jsxs)(a.a,{style:I.menuText,children:[b?"\ud83d\udd3d":"\u27a1"," Cadastros"]})}),b&&Object(m.jsx)(c.a,{style:I.subMenu,children:Object(m.jsx)(d.a,{onPress:()=>g("Produtos"),style:I.subMenuItem,children:Object(m.jsx)(a.a,{style:I.subMenuText,children:"\ud83d\udce6 Produtos"})})}),Object(m.jsx)(d.a,{onPress:()=>{f(!h)},style:I.menuItem,children:Object(m.jsxs)(a.a,{style:I.menuText,children:[h?"\ud83d\udd3d":"\u27a1"," Relat\xf3rios"]})}),h&&Object(m.jsxs)(c.a,{style:I.subMenu,children:[Object(m.jsx)(d.a,{onPress:()=>g("Produto"),style:I.subMenuItem,children:Object(m.jsx)(a.a,{style:I.subMenuText,children:"\ud83d\udcca Produtos"})}),Object(m.jsx)(d.a,{onPress:()=>g("Local"),style:I.subMenuItem,children:Object(m.jsx)(a.a,{style:I.subMenuText,children:"\ud83d\udccd Locais"})})]})]})}),Object(m.jsxs)(c.a,{style:I.mainContent,children:[Object(m.jsxs)(c.a,{style:I.header,children:[Object(m.jsx)(d.a,{onPress:x,children:Object(m.jsx)(a.a,{style:I.menuButton,children:"\u2630"})}),Object(m.jsx)(a.a,{style:I.title,children:r})]}),Object(m.jsx)(c.a,{style:I.body,children:(()=>{switch(r){case"Produtos":return Object(m.jsx)(O,{});case"Produto":return Object(m.jsx)(p,{});case"Local":return Object(m.jsx)(v,{});default:return Object(m.jsxs)(a.a,{style:I.bodyText,children:["Conte\xfado de ",r]})}})()})]})]})};r.a.registerComponent("App",(()=>B)),r.a.runApplication("App",{rootTag:document.getElementById("root")})}},[[105,1,2]]]);
//# sourceMappingURL=main.4eeb81b3.chunk.js.map